<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Better Example | Haxe and Node.js</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.2.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-edit-link/plugin.css">
        
    
    

        
    
    
    <link rel="next" href="../contribute.html" />
    
    
    <link rel="prev" href="../11automation/example.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="14.3" data-basepath=".." data-revision="Fri Apr 15 2016 19:33:19 GMT+0200 (CEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="level.html">
            
                
                    <a href="../level.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Level of Difficulty
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="haxe/about.html">
            
                
                    <a href="../haxe/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Haxe basics
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="haxe/quick-install.html">
            
                
                    <a href="../haxe/quick-install.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Quick install
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="haxe/installation.html">
            
                
                    <a href="../haxe/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="haxe/choosing-a-code-editor.html">
            
                
                    <a href="../haxe/choosing-a-code-editor.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Code editor
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="haxe/hello-world.html">
            
                
                    <a href="../haxe/hello-world.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Hello world
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="haxe/learn-haxe.html">
            
                
                    <a href="../haxe/learn-haxe.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Learn Haxe
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="haxenode/about.html">
            
                
                    <a href="../haxenode/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Haxe and Node.js
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="haxenode/installation.html">
            
                
                    <a href="../haxenode/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="haxenode/why.html">
            
                
                    <a href="../haxenode/why.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Why Haxe?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="haxenode/what.html">
            
                
                    <a href="../haxenode/what.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        What is it
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="haxenode/download.html">
            
                
                    <a href="../haxenode/download.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Download
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="haxenode/example.html">
            
                
                    <a href="../haxenode/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Example
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="haxenode/resource.html">
            
                
                    <a href="../haxenode/resource.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="haxenode/cheatsheet.html">
            
                
                    <a href="../haxenode/cheatsheet.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Cheatsheet
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="00helloworld/about.html">
            
                
                    <a href="../00helloworld/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Example Hello World
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="00helloworld/installation.html">
            
                
                    <a href="../00helloworld/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="00helloworld/example.html">
            
                
                    <a href="../00helloworld/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Example
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="01writing/about.html">
            
                
                    <a href="../01writing/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Example writing
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="01writing/installation.html">
            
                
                    <a href="../01writing/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="01writing/example.html">
            
                
                    <a href="../01writing/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Example
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="02reading/about.html">
            
                
                    <a href="../02reading/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Example Reading
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="02reading/installation.html">
            
                
                    <a href="../02reading/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="02reading/example.html">
            
                
                    <a href="../02reading/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Example
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="03lowdb/about.html">
            
                
                    <a href="../03lowdb/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Example Lowdb
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="03lowdb/installation.html">
            
                
                    <a href="../03lowdb/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="03lowdb/example.html">
            
                
                    <a href="../03lowdb/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Example
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="04haxelow/about.html">
            
                
                    <a href="../04haxelow/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Example HaxeLow
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="04haxelow/installation.html">
            
                
                    <a href="../04haxelow/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="04haxelow/example.html">
            
                
                    <a href="../04haxelow/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Example
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="05website/about.html">
            
                
                    <a href="../05website/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Example Website
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="05website/installation.html">
            
                
                    <a href="../05website/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="05website/exampleBasic.html">
            
                
                    <a href="../05website/exampleBasic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Example Basic
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="05website/exampleIntermediate.html">
            
                
                    <a href="../05website/exampleIntermediate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        Example Intermediate
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="05website/exampleAdvanced.html">
            
                
                    <a href="../05website/exampleAdvanced.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        Example Advanced
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="06nedb/about.html">
            
                
                    <a href="../06nedb/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Example NeDB
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="06nedb/installation.html">
            
                
                    <a href="../06nedb/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="06nedb/example.html">
            
                
                    <a href="../06nedb/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        Example
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="06nedb/example2.html">
            
                
                    <a href="../06nedb/example2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        Example 2
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" >
            
            <span><b>11.</b> Resources</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="11.1" data-path="follow.html">
            
                
                    <a href="../follow.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.</b>
                        
                        Who to follow
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11.2" >
            
                
                    <a target="_blank" href="http:/matthijskamstra.github.io/haxejs/">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.2.</b>
                        
                        Haxejs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11.3" >
            
                
                    <a target="_blank" href="http:/try.haxe.org/">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.3.</b>
                        
                        Try Haxe!
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11.4" >
            
                
                    <a target="_blank" href="https:/groups.google.com/forum/#!topic/haxelang/">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.4.</b>
                        
                        Community
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="12" data-path="09slackbot/about.html">
            
                
                    <a href="../09slackbot/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Example Slack bot
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1" data-path="09slackbot/installation.html">
            
                
                    <a href="../09slackbot/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.2" data-path="09slackbot/example.html">
            
                
                    <a href="../09slackbot/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.2.</b>
                        
                        Example
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13" data-path="10scraping/about.html">
            
                
                    <a href="../10scraping/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Example Scraping
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1" data-path="10scraping/installation.html">
            
                
                    <a href="../10scraping/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="10scraping/example.html">
            
                
                    <a href="../10scraping/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.</b>
                        
                        Example
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="14" data-path="11automation/about.html">
            
                
                    <a href="../11automation/about.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Example Automation
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="14.1" data-path="11automation/installation.html">
            
                
                    <a href="../11automation/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.1.</b>
                        
                        Installation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14.2" data-path="11automation/example.html">
            
                
                    <a href="../11automation/example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.2.</b>
                        
                        Example
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="14.3" data-path="11automation/example2.html">
            
                
                    <a href="../11automation/example2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.3.</b>
                        
                        Better Example
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="15" data-path="contribute.html">
            
                
                    <a href="../contribute.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Contribute
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" >
            
                
                    <a target="_blank" href="https:/github.com/MatthijsKamstra/haxenode/">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Source
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" >
            
                
                    <a target="_blank" href="https:/github.com/MatthijsKamstra/haxenode/issues/1">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Suggestion Box
                    </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <a href="../GLOSSARY.html" class="btn pull-left" aria-label="Glossary"><i class="fa fa-sort-alpha-asc"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Haxe and Node.js</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <a id="edit-link" href="https://github.com/MatthijsKamstra/haxenode/blob/master/11automation/example2.md" class="btn fa fa-edit pull-left">&nbsp;&nbsp;Edit This Page</a><h1 id="example-two">Example two</h1>
<p><img src="https://www.npmjs.com/static/images/npm-logo.svg" alt=""></p>
<p>I love the Haxe community. This is a great example of how I hoped this documentation would work.<br>In the comments of my other <a href="example.html">automation example</a> I get a suggestion from <a href="https://disqus.com/home/discussion/haxeandnodejs/haxe_and_nodejs_91/#comment-2291149693" target="_blank">Clark Jones</a> I could improve by doing this:</p>
<ul>
<li>without Grunt</li>
<li>but use NPM</li>
<li>shorter / cleaner </li>
<li>livereload (I couldn&apos;t get that to work)</li>
<li>how to be more awesome!</li>
</ul>
<p>I was a little thin on time, so couldn&apos;t write/researched it at once... <a href="https://disqus.com/home/discussion/haxeandnodejs/haxe_and_nodejs_91/#comment-2292315372" target="_blank">So Clark documented it in the comments</a></p>
<p><strong>I really did&apos;t know NPM could do that, but I happy I do know now!</strong></p>
<p>We will use a simple example to illustrate the workings of automation.<br>And to do that we will use the first example we made: the <a href="../GLOSSARY.html#hello_world" class="glossary-term" title="A &quot;Hello, World!&quot; program is a computer program that outputs &quot;Hello, World!&quot; (or some variant thereof) on a display device.">hello world</a> in node.js.<br>Read more about &quot;<a href="../00helloworld/about.html">hello world</a>&quot;</p>
<p>There are some little adjustments for livereload, but crucial to get that working.<br><strong>AND</strong> a conditional compilation flag added so when you remove <code>-debug</code> from the <code>.hmxl</code> file the livereload will also disappear from the html.</p>
<p><em>Check out the <a href="https://github.com/MatthijsKamstra/haxenode/tree/master/11automation/code2" target="_blank">code folder</a></em></p>
<h2 id="how-to-start">How to start</h2>
<p>Create a folder named <strong><a href="../GLOSSARY.html#foobar" class="glossary-term" title="The terms foobar, fubar, or foo, bar, baz and qux (alternatively, quux) and sometimes norf and many others are sometimes used as placeholder names (also referred to as metasyntactic variables) in computer programming or computer-related documentation.">foobar</a></strong> (please use a better name; any name will do) and create folders <strong>bin</strong> and <strong>src</strong>.
See example below:</p>
<pre><code>+ foobar
    + bin
    + src
        - Main.hx
    - javascript.hxml
    - package.json
</code></pre><h2 id="install">Install</h2>
<p>Check out <a href="installation2.md">the installation2</a>.</p>
<h2 id="the-main-hx">The Main.hx</h2>
<p>Open your favorite editor, copy/paste the code and save it in the <code>src</code> folder. </p>
<pre><code>package ;

import js.Node;
import js.node.Http;
import js.node.http.ServerResponse;
import js.node.http.IncomingMessage;

/**
 * @author Matthijs Kamstra aka [mck]
 */
class Main
{
    function new()
    {
        trace(&quot;Node.js Hello World Example&quot;);

        Http.createServer(function (request:IncomingMessage, response:ServerResponse):Void {
            response.writeHead(200, {&apos;Content-Type&apos;: &apos;text/html&apos;});

            #if debug
            response.write(&apos;&lt;script src=&quot;http://0.0.0.0:35729/livereload.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&apos;); 
            #end

            response.end(&apos;&lt;b&gt;Hello World&lt;/b&gt;&lt;br&gt;&apos; + Date.now() ); 
        }).listen(8080);

        trace(&apos;Server started: &apos;);
        trace(&apos;open http://localhost:8080&apos;);
        trace(&apos;Close Node with CTRL + C&apos;);        
    }

    static public function main()
    {
        var main = new Main();   
    }
}
</code></pre><h2 id="the-haxe-build-file-javascript-hxml">The Haxe build file, javascript.<a href="../GLOSSARY.html#hxml" class="glossary-term" title="Haxe build file">hxml</a></h2>
<p>Copy and past the following lines in a document named <code>javascript.hxml</code><br>This is the short version, you want to check out the full version open this <a href="code2/javascript.hxml">file</a>;</p>
<pre><code>-lib js-kit
-lib hxnodejs
-cp src
-main Main
-js bin/example.js
-D source-map-content
-debug
-dce full
--macro npm.Package.export(&quot;package.json&quot;)
</code></pre><h2 id="automate-no-not-yet-but-getting-closer">Automate! (no not yet, but getting closer)</h2>
<p>Normally you would have a &quot;how to build&quot; instruction for Haxe here.<br>But now we will use NPM to build the <code>.hxml</code> file and let NPM &quot;watch&quot; the files for changes.<br>If there are any changes, NPM will rebuild.</p>
<p>The same thing will be done with Nodemon.<br>Nodemon will restart Node, when the file changes.
In our case it will only watch one file (example.js), but when it changes it will restart the server.</p>
<p>To do this we need an extra file:</p>
<ul>
<li>package.json</li>
</ul>
<h2 id="package-json">package.json</h2>
<p>Because we will be using NPM for more then only updating the &quot;devDependencies&quot;, we also need the &quot;scripts&quot;.</p>
<pre><code>{
    &quot;license&quot;: &quot;MIT&quot;,
    &quot;description&quot;: &quot;Create a website with express&quot;,
    &quot;author&quot;: &quot;Matthijs Kamstra aka [mck]&quot;,
    &quot;private&quot;: true,
    &quot;scripts&quot;: {
        &quot;prewatch&quot;: &quot;haxe javascript.hxml&quot;,
        &quot;watch&quot;: &quot;onchange &apos;**/*.hx&apos; &apos;**/*.md&apos; -v -- haxe javascript.hxml &amp; nodemon bin/example.js &amp; livereload bin/&quot;
      },
      &quot;devDependencies&quot;: {
        &quot;livereload&quot;: &quot;^0.3.7&quot;,
        &quot;nodemon&quot;: &quot;^1.7.1&quot;,
        &quot;onchange&quot;: &quot;^2.0.0&quot;
      }
}
</code></pre><h2 id="automate-almost-there">Automate! (almost there)</h2>
<p>Now we have the correct files, we need to update the node modules.<br>So open the correct folder with you <a href="../GLOSSARY.html#terminal" class="glossary-term" title="The terminal is an interface in which you can type and execute text based commands.
Alternative names for the terminal:  ">terminal</a></p>
<p>Something like:</p>
<pre><code>cd path/to/this/example/
</code></pre><hr>
<p>Now we update the <code>node_modules</code> so we don&apos;t get error that way (this is documented in <code>package.json</code>)</p>
<pre><code>npm install
</code></pre><p>This will create a new folder with modules-folders in it:</p>
<pre><code>+ node_modules
    + livereload
    + nodemon
    + onchange
</code></pre><hr>
<p>Start NPM watch so it will rebuild <code>javascript.hxml</code> as soon as file changes</p>
<pre><code>npm run watch
</code></pre><p>And your done!</p>
<p>Cool huh!</p>
<hr>
<p>To stop the <a href="../GLOSSARY.html#terminal" class="glossary-term" title="The terminal is an interface in which you can type and execute text based commands.
Alternative names for the terminal:  ">terminal</a> process</p>
<pre><code>Ctrl + c
</code></pre><h3 id="automation-win">Automation WIN!</h3>
<p>So this way we have automated a lot!</p>
<p>Lets look what we had to do before the automation:</p>
<p><strong>First run:</strong></p>
<ul>
<li>Open <a href="../GLOSSARY.html#terminal" class="glossary-term" title="The terminal is an interface in which you can type and execute text based commands.
Alternative names for the terminal:  ">terminal</a></li>
<li>type <code>haxe javascript.hxml</code></li>
<li>enter</li>
<li>open Browser <code>http://localhost:8080</code></li>
</ul>
<p><strong>Updates:</strong></p>
<ul>
<li>CMD + TAB &gt; <a href="../GLOSSARY.html#terminal" class="glossary-term" title="The terminal is an interface in which you can type and execute text based commands.
Alternative names for the terminal:  ">Terminal</a></li>
<li>CTRL + c (stop node)</li>
<li>Cursor + UP (select previous state <a href="../GLOSSARY.html#terminal" class="glossary-term" title="The terminal is an interface in which you can type and execute text based commands.
Alternative names for the terminal:  ">terminal</a>)</li>
<li>Enter</li>
<li>CMD + TAB &gt; Browser</li>
<li>CMD + R</li>
<li>CMD + TAB &gt; Sublime Text</li>
<li>change files</li>
<li>repeat</li>
</ul>
<hr>
<p>And that is changed into:</p>
<hr>
<p><strong>First run:</strong></p>
<ul>
<li>Open <a href="../GLOSSARY.html#terminal" class="glossary-term" title="The terminal is an interface in which you can type and execute text based commands.
Alternative names for the terminal:  ">terminal</a></li>
<li>type <code>npm run watch</code></li>
<li>enter</li>
<li>open Browser <code>http://localhost:8080</code></li>
</ul>
<p><strong>Updates:</strong></p>
<ul>
<li>CMD + TAB &gt; Browser</li>
<li>CMD + TAB &gt; Sublime Text</li>
<li>change files</li>
<li>repeat</li>
</ul>
<p>(or if you have two monitors, just see the updates on your second screen!!!!!)</p>
<p><strong>win win win!</strong></p>
<hr>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../11automation/example.html" class="navigation navigation-prev " aria-label="Previous page: Example"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../contribute.html" class="navigation navigation-next " aria-label="Next page: Contribute"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"edit-link":{"base":"https://github.com/MatthijsKamstra/haxenode/blob/master/","label":""},"disqus":{"shortName":"haxeandnodejs"},"ga":{"token":"UA-67866831-2","configuration":"auto"}};
    gitbook.start(config);
});
</script>

        <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-67866831-2', 'auto');ga('send', 'pageview');</script>
    </body>
    
</html>
